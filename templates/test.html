<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <link rel="icon" href="{{url_for('static', filename='tool.ico')}}">
    <script src="{{url_for('static', filename='js/codemirror.min.js')}}"></script>
    <script src="{{url_for('static', filename='js/simple.min.js')}}"></script>
    <link rel="stylesheet" href="{{url_for('static', filename='css/codemirror.min.css')}}">
    <script src="{{url_for('static', filename='js/python.js')}}"></script>
    <link href="{{url_for('static', filename='css/normalize.min.css')}}" rel="stylesheet">
    <!-- Bootstrap Core CSS -->
    <link href="{{url_for('static', filename='css/bootstrap.min.css')}}" rel="stylesheet">
     <script src="{{url_for('static', filename='js/jquery.min.js')}}"></script>
    <script src="{{url_for('static', filename='js/clipboard.min.js')}}"></script>
    <title>python代码在线练习</title>
</head>
<body>
<a href="https://www.vbahome.cn" target="_blank">博客</a>
<a href="https://hao.ztjs.top" target="_blank">导航</a>
<a href="{{url_for('index')}}" target="_blank">首页</a>
<p>请输入代码</p>
<form action="{{url_for('test')}}" method="post">
    <pre class="python">
    <textarea class="form-control"  id="code" name="code" rows="18">{{code1}}
</textarea></pre>
    <input class="btn btn-success" type = "submit" value = "运行代码" />
    <button type="button" class="btn btn-default" id="clearCode"><i class="fa fa-eraser" aria-hidden="true"></i>清空代码</button>
</form>
    <pre class="python">
    <textarea class="form-control" name="code" rows="18">{{result}}
</textarea></pre>
</body>
<script>
    var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
	lineNumbers: true,
	matchBrackets: true,
	mode: "text/x-python",
	indentUnit: 4,
	indentWithTabs: true,
});
    $(function() {
	//代码高亮
	$('pre').each(function() {
		if(!$(this).hasClass("prettyprint")) {
			$(this).addClass("prettyprint");
		}
	});
})
    $("#clearCode").click(function() {
	var r=confirm("确认清空？");
	if (r==true){
		editor.setValue("");
		editor.clearHistory();
		$("#compiler-textarea-result").val("");
		btn.prop('disabled', true);
	}
});
</script>
<script src="//cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
</html>